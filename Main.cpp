#include <iostream>

using namespace std;

int main()
{
	setlocale(LC_ALL, "rus");

	//Международный стандартный книжный номер(англ.International Standard Book Number, сокращённо — англ.ISBN) — уникальный номер книжного издания,
	//	необходимый для распространения книги в торговых сетях и автоматизации работы с изданием.
	//	Подробнее тут https ://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%B6%D0%B4%D1%83%D0%BD%D0%B0%D1%80%D0%BE%D0%B4%D0%BD%D1%8B%D0%B9_%D1%81%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82%D0%BD%D1%8B%D0%B9_%D0%BD%D0%BE%D0%BC%D0%B5%D1%80_%D0%BA%D0%BD%D0%B8%D0%B3%D0%B8
	//После 2007 в обиход вошел ISBN - 13, состоящий из 12 цифр и одной контрольной
	//	Контрольная цифра предназначена для верификации правильности полученного номера.
	//	Контрольная цифра для ISBN - 13 вычисляется следующим образом :
	//Пусть есть номер 978030640615
	//	1. Вычисляется сумма, где каждое слагаемое это цифра умноженная на переменный вес 1 и 3.
	//	9?1 + 7?3 + 8?1 + 0?3 + 3?1 + 0?3 + 6?1 + 4?3 + 0?1 + 6?3 + 1?1 + 5?3 = 93.
	//	2. Получаем остаток от деления на 10 полученной суммы.
	//	93 / 10 = 3
	//	3. Контрольная цифра это цифра которую необходимо добавить к полученной сумме, чтобы она стала делиться на 10 без остатка.
	//	10 - 3 = 7
	//	В итоге 9780306406157 - действительный ISBN - 13
	//	Ваша задача, написать программу которая бы запрашивала у пользователя количество(N) ISBN - 13 для проверки.
	//	В дальнейшем, после ввода каждого из N номеров, программа должна проводить его валидацию и сообщать, действителен ли данный номер.
	//	После валидации N номеров программа завершает свою работу.

	long long ISBN, N, ISBNvalid, ISBNcopy;
	bool valid = false;
	cout << "Введите N: ";
	cin >> N;
	cout << endl;	
	for (int i = 1; i <= N; ++i)
	{
		cout << "Введите ISBN #" << i << " ";
		cin >> ISBN;
		ISBNcopy = ISBN % 10;
		ISBN /= 10;
		ISBNvalid = 0;
		for (int j = 1; j <= 12; ++j)
		{
			if (j % 2 == 1)	ISBNvalid += (ISBN % 10) * 3;
			else ISBNvalid += (ISBN % 10) * 1;
			ISBN /= 10;
		}		
		ISBNvalid %= 10;
		ISBNvalid = 10 - ISBNvalid;
		valid = ISBNcopy == ISBNvalid;
		if (valid) cout << "       валиден" << endl; 
		else cout << "       невалиден" << endl;
		cout << endl;
	}

}